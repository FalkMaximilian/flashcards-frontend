<div class="h-dvh bg-base-200 flex flex-col">
    <div class="navbar bg-base-100">
        <div class="flex-1">
            <a class="btn btn-ghost text-xl flex-0 gap-1 px-2" href="">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                    class="bi bi-lightning-charge-fill" viewBox="0 0 16 16">
                    <path
                        d="M11.251.068a.5.5 0 0 1 .227.58L9.677 6.5H13a.5.5 0 0 1 .364.843l-8 8.5a.5.5 0 0 1-.842-.49L6.323 9.5H3a.5.5 0 0 1-.364-.843l8-8.5a.5.5 0 0 1 .615-.09z" />
                </svg>
                <span class="font-title text-base-content text-lg md:text-2xl">Flashcards</span>
            </a>
        </div>
        <div class="flex-none">
            <app-theme-switcher></app-theme-switcher>
        </div>
    </div>

    <div class="hero h-full">
        <div class="hero-content flex-col lg:flex-row-reverse">
            <div class="text-center lg:text-left">
                <h1 class="text-5xl font-bold">Register now!</h1>
                <p class="py-6">
                    Um deine Karteikarten und Sets sehen zu k√∂nnen musst du dich bitte
                    erst anmelden. Falls du noch keinen Account hast erstelle dir doch
                    schnell einen!
                </p>
            </div>
            <div class="card shrink-0 w-full max-w-sm shadow-2xl bg-base-100">
                <form [formGroup]="registrationForm" class="card-body" (ngSubmit)="onSubmit()">
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Username</span>
                        </label>
                        <input type="text" formControlName="username" placeholder="WittyWombat" class="input input-bordered"
                            [ngClass]="{ 'is-invalid': submitted && f['username'].errors }" />
                        @if (submitted && f['username'].errors) {
                        <div class="invalid-feedback">
                            @if (f['username'].errors['required']) {
                                <div class="badge badge-error gap-2 text-sm mt-2">Username is required</div>
                            }
                        </div>
                        }
                    </div>
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Password</span>
                        </label>
                        <input type="password" formControlName="password" placeholder="SassySquirrel7&"
                            class="input input-bordered"
                            [ngClass]="{ 'is-invalid': submitted && f['password'].errors }" />
                        @if (submitted && f['password'].errors) {
                        <div class="invalid-feedback">
                            @if (f['password'].errors['required']) {
                                <div class="badge badge-error gap-2 text-xs mt-2">Password is required</div>
                            } @if (f['password'].errors['minlength']) {
                                <div class="badge badge-error gap-2 text-xs mt-2">Password must be at least 6 characters</div>
                            } @if (f['password'].errors['maxlength']) {
                                <div class="badge badge-error gap-2 text-xs mt-2">Password must not exceed 40 characters</div>
                            } @if (f['password'].errors['hasUpperCase']) {
                                <div class="badge badge-error gap-2 text-xs mt-2">Password must contain one uppercase character</div>
                            } @if (f['password'].errors['hasLowerCase']) {
                                <div class="badge badge-error gap-2 text-xs mt-2">Password must contain one lowercase character</div>
                            } @if (f['password'].errors['hasNumber']) {
                                <div class="badge badge-error gap-2 text-xs mt-2">Password must contain one number</div>
                            } @if (f['password'].errors['hasSpecialCharacter']) {
                                <div class="badge badge-error gap-2 text-xs mt-2">Password must contain one special character</div>
                            }
                        </div>
                        }
                    </div>
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Repeat password</span>
                        </label>
                        <input type="password" formControlName="matching_password" placeholder="SassySquirrel7&"
                            class="input input-bordered"
                            [ngClass]="{ 'is-invalid': submitted && f['matching_password'].errors }" />
                        @if (submitted && f['matching_password'].errors) {
                        <div class="invalid-feedback">
                            @if (f['matching_password'].errors['required']) {
                                <div class="badge badge-error gap-2 text-sm mt-2">Password is required</div>
                            } @if (f['matching_password'].errors['passwordMismatch']) {
                                <div class="badge badge-error gap-2 text-sm mt-2">Passwords do not match</div>
                            }
                        </div>
                        }
                    </div>
                    <div class="form-control">
                        <label class="label">
                            <span class="label-text">Email</span>
                        </label>
                        <input type="email" formControlName="email" placeholder="wittyWombat@example.com"
                            class="input input-bordered"
                            [ngClass]="{ 'is-invalid': submitted && f['email'].errors }" />
                        @if (submitted && f['email'].errors) {
                        <div class="invalid-feedback">
                            @if (f['email'].errors['required']) {
                                <div class="badge badge-error gap-2 text-sm mt-2">Password is required</div>
                            } @if (f['email'].errors['email']) {
                                <div class="badge badge-error gap-2 text-sm mt-2">Invalid email</div>
                            }
                        </div>
                        }
                    </div>
                    <div class="form-control mt-5">
                        <button class="btn btn-primary">
                            Register
                        </button>
                    </div>
                    <p class="text-sm w-full text-center">Already have an account?</p>
                    <a class="w-full text-center label-text-alt link link-hover" href="/login">Login</a>
                </form>
                
            </div>
        </div>
    </div>
</div>